#+title: My NixOS & Nix-Darwin System Configuration with Flake Enabled
#+description: General information about my flake and how to set it up
#+author: Matthias Benaets

#+attr_org: :width 600
[[file:rsc/NixOS.svg]]

* Table of Content
:PROPERTIES:
:TOC:      :include all :depth 2 :force (depth) :ignore (this)
:END:
:CONTENTS:
- [[#system-components][System Components]]
- [[#nixos-installation-guide][NixOS Installation Guide]]
:END:

* System Components
|                 | *NixOS -Wayland* | *NixOS - Wayland/Xorg* | *NixOS - Xorg*   | *Darwin*  |
|-----------------+------------------+------------------------+------------------+-----------|
| *DM*            | TTY1 Login       | GDM                    | LightDM          | /         |
| *WM/DE*         | Hyprland         | Gnome                  | Bspwm            | Yabai     |
| *Compositor*    | Hyprland         | Mutter                 | Picom (jonaburg) | /         |
| *Bar*           | Eww + Waybar     | Dock-to-Panel          | Polybar          | /         |
| *Hotkeys*       | Hyprland         | /                      | Sxhkd            | Skhd      |
| *Launcher*      | Wofi             | Gnome                  | Rofi             | /         |
| *GTK Theme*     | Catppuccin       | Catppuccin / Adwaita   | Catppuccin       | /         |
| *Notifications* | Dunst            | Gnome                  | Dunst            | /         |
| *Terminal*      | Alacritty        | Alacritty              | Alacritty        | Alacritty |
| *Used by host*  | Desktop          | Work                   | Laptop & VM      | Macbook   |

There are some other desktop environments/window manager (See NixOS - Other). Just link to correct ~default/home.nix~ in ~./hosts/<host>/default and home.nix~.
There is also a general Nix config with hostname ~pacman~ that can be used on pretty much any disto.

Compontents relevant to all hosts:
| *Shell*    | Zsh               |
| *Terminal* | Alacritty         |
| *Editors*  | Nvim + Doom Emacs |

* NixOS Installation Guide
This flake currently has *4* hosts
 1. desktop
    - UEFI boot w/ systemd-boot
 2. laptop
    - UEFI boot w/ grub (Dual Boot)
 3. work
    - UEFI boot w/ grub (Dual Boot)
 4. vm
    - Legacy boot w/ grub

If you have nixos installed already, you can clone this repository:
- ~$ git clone https://github.com/matthiasbenaets/nixos-config /etc/nixos/<name>~
then build the flakes with:
- ~$ sudo nixos-rebuild switch --flake <path>#<hostname>~
- example ~$ sudo nixos-rebuild switch --flake .#laptop~

** Great Thanks to Matthias Benaets
I learned a lot from Matthias' nixos-configurations.
